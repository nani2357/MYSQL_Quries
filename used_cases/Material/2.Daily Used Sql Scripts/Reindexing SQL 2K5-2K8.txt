DBCC SHOWCONTIG WITH TABLERESULTS,ALL_INDEXES

---for sql 2k5 and 2k8



select 'ALTER INDEX ',+ i.name + ' ON '+user_name(u.uid)+'.'+o.name + ' REBUILD with (ONLINE=ON)' from sysobjects o join sysusers u on o.uid=u.uid JOIN SYSINDEXES i ON i.id = o.id where o.type = 'U' and i.indid > 0
and i.name NOT LIKE '%_WA_Sys%' and o.name IN  (
'SanctionDetails',
'DisciplineMasterSorttemp',
'NonIBankNameMaster',
'VendorMaster',
'VendorMaster',
'VendorMaster',
'VendorMaster',
'UserTypeMaster',
'CenterMaster',
'DisbursementMaster',
'DisbursementMaster',
'DisbursementMaster',
'DistrictMaster',
'EditDisbursementMaster',
'EditDisbursementMaster',
'EditDisbursementMaster',
'SanctionMaster',
'SanctionMaster',
'SanctionMaster',
'SanctionMaster',
'EditDisbursementDetails',
'SOE_Details',
'dofw_OpeningBalance',
'DOFW_TreeDetail',
'DOFW_TreeDetailSort',
'DOFW_TreeMaster',
'DisbursementDetails',
'DisbursementDetails',
'DisbursementDetails',
'DisbursementScheduleLog',
'BankBranchMaster',
'DisciplineMaster',
'MailerMaster',
'PrintingLocationMaster',
'RoleMaster',
'PayMentTypemaster',
'DisciplineMasterSort',
'CorporateMaster',
'UserMasterTemp',
'StateMastertemp',
'DistrictMastertemp',
'Dofw_Erecon_Serial',
'UserMaster',
'VendorMastertemp',
'VendorMastertemp',
'VendorMastertemp',
'VendorMastertemp',
'dtproperties',
'PrintingLocationMastertemp',
'DigitalCertificateDetails',
'GeneratedTrans',
'GeneratedTrans',
'CenterMastertemp',
'StateMaster',
'UserCertificateLog',
'DisciplineMastertemp'


)
